(this["webpackJsonpaudio-player"]=this["webpackJsonpaudio-player"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"SET_CONTEXT",(function(){return a})),n.d(t,"ADD_SONG",(function(){return r})),n.d(t,"CHANGE_PATH",(function(){return c})),n.d(t,"CHANGE_CURRENT_SONG_INDEX",(function(){return o})),n.d(t,"SET_CURRENT_TRACK_TIME",(function(){return i})),n.d(t,"DISABLE_SONG_SELECT",(function(){return l})),n.d(t,"ENABLE_SONG_SELECT",(function(){return s})),n.d(t,"SET_PAUSED",(function(){return u})),n.d(t,"CHANGE_VOLUME",(function(){return d}));var a="SET_CONTEXT",r="ADD_SONG",c="CHANGE_PATH",o="CHANGE_CURRENT_SONG_INDEX",i="SET_CURRENT_TRACK_TIME",l="DISABLE_SONG_SELECT",s="ENABLE_SONG_SELECT",u="SET_PAUSED",d="CHANGE_VOLUME"},,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){e.exports=n.p+"static/media/song.ef301d89.mp3"},,,function(e,t,n){e.exports=n(53)},,,,,function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),o=n.n(c),i=(n(38),n(16)),l=(n(39),n(7)),s=n(6),u=n(2),d=n(11),m=d.SET_CONTEXT,f=d.ADD_SONG,p=d.CHANGE_PATH,_=d.CHANGE_CURRENT_SONG_INDEX,E=d.SET_CURRENT_TRACK_TIME,b=d.DISABLE_SONG_SELECT,y=d.ENABLE_SONG_SELECT,v=d.SET_PAUSED,g=d.CHANGE_VOLUME;function N(e){return{type:p,payload:e}}function O(e){return{type:_,payload:e}}function h(){return{type:b}}function j(){return{type:y}}function S(e){return{type:v,payload:e}}n(44),n(45);var T=function(e){var t=e.size,n=e.color,a=function(e){return"".concat(e/2.5/2,"%")};return r.a.createElement(u.a.div,{className:"circle",style:{width:t.interpolate(a),paddingBottom:t.interpolate(a)}},r.a.createElement(u.a.div,{className:"circle__before",style:{filter:n.interpolate((function(e){return"hue-rotate(".concat(e,"deg)")})),boxShadow:t.interpolate((function(e){return"0 0 ".concat(e/3,"px #0f0, inset 0 0 ").concat(e/3,"px #0f0")}))}}),r.a.createElement("div",{className:"circle__after"}))};n(46);var x=function(e){var t=e.stopSongHandler,n=e.backwardSongHandler,a=e.clickHandler,c=e.nextSongHandler,o=Object(s.b)(),i=Object(s.c)((function(e){return{paused:e.paused,volume:e.volume}})),l=i.paused,u=i.volume;return r.a.createElement("div",{className:"controls__buttons"},r.a.createElement("i",{className:"fa fa-stop controls__stop","aria-hidden":"true",onClick:t}),r.a.createElement("i",{className:"fa fa-step-backward controls__step-backward","aria-hidden":"true",onClick:n}),r.a.createElement("div",{className:"controls__play-stop",onClick:a},l?r.a.createElement("i",{className:"fa fa-play controls__play","aria-hidden":"true"}):r.a.createElement("i",{className:"fa fa-pause controls__pause","aria-hidden":"true"})),r.a.createElement("i",{className:"fa fa-step-forward controls__step-forward","aria-hidden":"true",onClick:c}),r.a.createElement("input",{className:"controls__volume",type:"range",min:"0",max:"100",value:u,onChange:function(e){var t;o((t=e.currentTarget.value,{type:g,payload:t}))}}))};var C=function(e){var t=e.open,n=["c","o","n","t","r","o","l","s"],a=Object(u.e)(n.length,{opacity:t?0:1,transform:t?"translateX(100%)":"translateX(0%)",config:u.b.wobbly});return r.a.createElement("div",{className:"controls__title"},a.map((function(e,t){return r.a.createElement(u.a.div,{className:"controls__letter",style:e,key:t},n[t])})))};var w=function(e){var t=e.time,n=e.changeAudioTime,c=e.clickHandler,o=e.connection,i=e.rewindToTheend,d=e.rewindToTheStart,m=e.stop,f=Object(a.useState)(!1),p=Object(l.a)(f,2),_=p[0],E=p[1],b=Object(a.useState)(!1),y=Object(l.a)(b,2),v=y[0],g=y[1],j=t.interpolate((function(e){return"linear-gradient(to right, #C90000 ".concat(e,"%, gray 0%)")})),S=Object(s.b)(),T=Object(s.c)((function(e){return{currentIndex:e.currentIndex,songSelectDisabled:e.songSelectDisabled,songs:e.songs}})),w=T.currentIndex,A=T.songSelectDisabled,k=T.songs,D=Object(u.d)({rotate:v?"rotate(-45deg)":"rotate(45deg)",height:v?"100px":"0px"}),R=D.rotate,G=D.height;return r.a.createElement(u.a.div,{style:{height:G},className:"controls",onClick:function(e){return e.stopPropagation()}},r.a.createElement("button",{className:"controls__hide-button",onClick:function(){g(!v)}},r.a.createElement(C,{open:v}),r.a.createElement(u.a.span,{style:{transform:R},className:"controls__icon-line controls__icon-line_top"}),r.a.createElement(u.a.span,{style:{transform:R.interpolate((function(e){return"".concat(e," rotate(90deg)")}))},className:"controls__icon-line controls__icon-line_bottom"})),r.a.createElement(u.a.div,{onClick:n,onMouseDown:function(){E(!0)},onMouseUp:function(){E(!1)},className:"controls__band",style:{backgroundImage:j},onMouseMove:function(e){_&&n(e)}}),r.a.createElement(x,{stopSongHandler:function(){d(),m()},backwardSongHandler:function(){w>0?A||(o(),S(O(w-1)),S(N(k[w-1].path))):d()},clickHandler:c,nextSongHandler:function(){k.length>w+1?A||(o(),S(O(w+1)),S(N(k[w+1].path))):(i(),S(h()))}}))};n(28);var A=function(e){var t=e.connect,n=Object(u.d)((function(){return{to:{opacity:0},from:{opacity:1},immediate:!t}})),a=Object(l.a)(n,1)[0];return r.a.createElement(u.a.div,{style:a,className:"icon icon_pause"})};var k=function(){var e=Object(u.d)({to:{opacity:0},from:{opacity:1}});return r.a.createElement(u.a.div,{style:e,className:"icon icon_play"})};n(47),n(48);var D=function(e){var t=e.duration,n=e.name,a=e.path,c=e.index,o=e.connection,i=e.props,l=Object(s.b)(),d=Object(s.c)((function(e){return{currentIndex:e.currentIndex,songSelectDisabled:e.songSelectDisabled}})),m=d.currentIndex,f=d.songSelectDisabled,p=m===c?"song playlist__song song_active":"song playlist__song";return r.a.createElement(u.a.div,{style:i,className:p,onClick:function(){f||(o(),l(N(a)),l(O(c)))}},r.a.createElement("h3",{className:"song__name"},n),r.a.createElement("span",{className:"song__duration"},t))};var R=function(e){var t=e.connection,n=Object(a.useState)(!1),c=Object(l.a)(n,2),o=c[0],i=c[1],d=Object(s.c)((function(e){return e.songs})),m=Object(s.b)(),p=Object(a.useRef)(),_=Object(u.d)({ref:p,width:o?"400px":"0px",opacity:o?0:1,transform:o?"translateX(-100%)":"translateX(0%)"}),E=_.width,b=_.opacity,y=_.transform,v=Object(a.useRef)(),g=Object(u.f)(o?d:[],(function(e){return e.name}),{ref:v,unique:!0,trail:50,from:{opacity:0,right:"-100%"},enter:{opacity:1,right:"0%"},leave:{opacity:0,right:"0%"}}),N=Object(u.d)({rotate:o?"rotate(45deg)":"rotate(-45deg)"}).rotate;return Object(u.c)(o?[p,v]:[v,p]),r.a.createElement(u.a.div,{style:{width:E},className:"playlist",onClick:function(e){return e.stopPropagation()}},r.a.createElement("header",{className:"playlist__header"},r.a.createElement("label",{className:"playlist__download",htmlFor:"download"},r.a.createElement("i",{className:"fa fa-cloud-download playlist__icon","aria-hidden":"true"})),r.a.createElement("input",{style:{display:"none"},name:"download",type:"file",id:"download",onChange:function(e){e.stopPropagation();var t=!1;if(Object.values(e.currentTarget.files).forEach((function(e){"audio/mpeg"!==e.type&&(t=!0)})),t)return alert("\u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0438\u043f \u0444\u0430\u0439\u043b\u0430 - \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 mp3");for(var n=Object.values(e.currentTarget.files).map((function(e){return e.name})),a=function(t){var a=new FileReader;a.readAsDataURL(e.currentTarget.files[t]),a.onloadstart=function(){console.log("start")},a.onloadend=function(){console.log("end")},a.onload=function(){setTimeout((function(){m(function(e){return{type:f,payload:e}}({name:n[t],duration:"--:--",path:a.result}))}),500)},a.onerror=function(){console.log(a.error)}},r=0;r<Object.values(e.currentTarget.files).length;r++)a(r)},multiple:!0})),r.a.createElement("div",{className:"playlist__songs"},g.map((function(e,n){var a=e.item,c=e.props;return r.a.createElement(D,{key:n,index:n,name:a.name,duration:a.duration,path:a.path,connection:t,props:c})}))),r.a.createElement("button",{className:"playlist__button",onClick:function(){i(!o)}},r.a.createElement(u.a.h3,{style:{opacity:b,transform:y},className:"playlist__title"},"playlist"),r.a.createElement(u.a.span,{style:{transform:N},className:"playlist__icon-line playlist__icon-line_top"}),r.a.createElement(u.a.span,{style:{transform:N.interpolate((function(e){return"".concat(e," rotate(90deg)")}))},className:"playlist__icon-line playlist__icon-line_bottom"})))},G=n(5);n(49);var H=function(e){var t=e.size,n=e.color,a=e.size_middle_freq,c=function(e){return"0 0 ".concat(e/10,"px #0f0, inset 0 0 ").concat(e/10,"px #0f0")},o=function(e){return"hue-rotate(".concat(e,"deg)")},i=function(e){return"".concat(3*e,"px")};return r.a.createElement("div",{className:"text"},r.a.createElement(u.a.div,{style:{transform:t.interpolate((function(e){return"scale(".concat(1+e/25/150,")")}))},className:"text__background"}),r.a.createElement(u.a.div,{style:{transform:t.interpolate((function(e){return"scale(".concat(1+e/25/50,")")}))},className:"text__container"},r.a.createElement(u.a.div,{style:{width:a.interpolate(i)},className:"text__line text__line_top"}),r.a.createElement("h3",{className:"text__title"},r.a.createElement(u.a.div,{className:"text__letter",style:{filter:n.interpolate(o),boxShadow:t.interpolate(c)}},"T"),r.a.createElement(u.a.div,{className:"text__letter",style:{filter:n.interpolate(o),boxShadow:t.interpolate(c)}},"E"),r.a.createElement(u.a.div,{className:"text__letter",style:{filter:n.interpolate(o),boxShadow:t.interpolate(c)}},"X"),r.a.createElement(u.a.div,{className:"text__letter",style:{filter:n.interpolate(o),boxShadow:t.interpolate(c)}},"T")),r.a.createElement(u.a.div,{style:{width:a.interpolate(i)},className:"text__line text__line_bottom"})))};var I=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(s.b)(),i=Object(s.c)((function(e){return{currentSongIndex:e.currentIndex,path:e.path,songs:e.songs,context:e.context,analyzer:e.analyzer,src:e.src,paused:e.paused,volume:e.volume}})),d=i.currentSongIndex,f=i.path,p=i.songs,_=i.context,b=i.analyzer,y=i.src,v=i.paused,g=i.volume,x=Object(a.useRef)();Object(a.useEffect)((function(){o(function(e,t){return{type:m,payload:{context:e,audioRef:t}}}(new AudioContext,x.current))}),[o]),Object(a.useEffect)((function(){n&&P()}),[f,n]),Object(a.useEffect)((function(){x.current.volume=g/100}),[g]);var C=Object(u.d)((function(){return{size:0,size_middle_freq:0,color:0,time:0,config:{duration:0}}})),D=Object(l.a)(C,2),I=D[0],L=I.size,M=I.color,z=I.time,U=I.size_middle_freq,X=D[1],B=function(){_&&!n&&(_.resume(),y.connect(b),b.connect(_.destination),c(!0))},P=function(){o(h()),x.current.play(),o(S(!1)),function e(){if(!x.current.paused){window.requestAnimationFrame(e);var t=new Uint8Array(b.frequencyBinCount);b.getByteFrequencyData(t),t[0]>190&&X({color:Math.round(360*Math.random())}),t[0]>150&&X({color:Math.round(360*Math.random())}),X({size:t[0],time:x.current.currentTime?x.current.currentTime/(x.current.duration/100):0,size_middle_freq:t[40],config:{duration:0}})}}()},q=function(){X({size:0,color:0,config:u.b.molasses}),x.current.pause(),o(S(!0))},F=function(){B(),x.current.paused?P():q()};return r.a.createElement("div",{className:"visualizer",onClick:F},r.a.createElement("audio",{src:f,ref:x,onEnded:function(){p.length>d+1?(o(N(p[d+1].path)),o(O(d+1)),o(function(e){return{type:E,payload:e}}(x.current.duration))):(alert("\u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c \u043f\u0435\u0441\u0435\u043d\u043a\u0438 =("),o(S(!0)),o(j()))},onPlay:function(){o(j())}}),r.a.createElement("div",{className:"visualizer__effect"},r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/",render:function(){return r.a.createElement(T,{size:L,color:M})}}),r.a.createElement(G.a,{path:"/text",render:function(){return r.a.createElement(H,{size:L,color:M,size_middle_freq:U})}})),v?r.a.createElement(A,{connect:n}):r.a.createElement(k,null)),r.a.createElement(w,{clickHandler:F,paused:v,time:z,changeAudioTime:function(e){var t=e.currentTarget.getBoundingClientRect().width;e.stopPropagation(),x.current.currentTime=x.current.duration/t*e.clientX,X({time:100/(t/e.clientX)})},connection:B,rewindToTheend:function(){x.current.currentTime=x.current.duration,P()},rewindToTheStart:function(){x.current.currentTime=0,X({time:0})},stop:q}),r.a.createElement(R,{connection:B}))},L=(n(51),n(3)),M=n(32);n(52);var z=function(){return r.a.createElement("div",{className:"menu__logo"},r.a.createElement("i",{className:"fa fa-music menu__logo-icon","aria-hidden":"true"}))};var U=function(e){var t=e.props,n=e.item,c=e.path,o=Object(a.useState)(!1),s=Object(l.a)(o,2),d=s[0],m=s[1],f=Object(u.d)({gradient:d?0:100}).gradient.interpolate((function(e){return"linear-gradient(to left, white 0%, white ".concat(e,"%, gold 0%, gold 100%)")}));return r.a.createElement(i.b,{className:"menu__nav",activeClassName:"menu__nav_active",to:c,exact:!0},r.a.createElement(u.a.div,{key:n.id,className:"menu__item",style:Object(L.a)({},t),onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},r.a.createElement(u.a.span,{style:{backgroundImage:f},className:"menu__link"},n.title)))};var X=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useRef)(),i=Object(u.d)({ref:o,width:n?"40%":"0%",transform:n?"transtaleX(350px)":"translateX(-100px)",from:{width:"0%"}}),s=i.transform,d=i.width,m=Object(M.a)(i,["transform","width"]),f=Object(a.useRef)(),p=Object(u.f)(n?[{title:"circle",path:"/",id:"0"},{title:"text",path:"/text",id:"1"},{title:"visual3",path:"/visual3",id:"2"},{title:"visual4",path:"/visual4",id:"3"}]:[],(function(e){return e.title}),{ref:f,unique:!0,from:{opacity:0,transform:"scale(0)"},enter:[{opacity:0,transform:"scale(1)"},{opacity:1,transform:"scale(1)"}],leave:{opacity:0,transform:"scale(0)"},config:{duration:300}}),_=Object(a.useRef)(),E=Object(u.e)(3,{ref:_,transform:n?"scale(0)":"scale(1)",config:{duration:200}});return Object(u.c)(n?[_,o,f]:[f,o,_],[0,n?.1:.2]),r.a.createElement(u.a.div,{style:Object(L.a)(Object(L.a)({},m),{},{width:d}),className:"menu",onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)}},r.a.createElement(z,null),r.a.createElement("div",{className:"menu__icon"},E.map((function(e,t){return r.a.createElement(u.a.div,{className:"menu__line",style:e,key:t})}))),p.map((function(e){var t=e.item,n=e.props;return r.a.createElement(U,{item:t,key:t.id,props:n,path:t.path})})),r.a.createElement(u.a.div,{style:Object(L.a)(Object(L.a)({},m),{},{transform:s,width:d}),className:"menu__blink"}))};var B=function(){return r.a.createElement("div",{className:"audio-player"},r.a.createElement(X,null),r.a.createElement(I,null))};var P=function(){return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q=n(19),F=n(13),K=n(11),V=n(30),J={context:null,analyzer:null,src:null,songs:[],path:n.n(V).a,currentIndex:-1,currentTime:"--:--",songSelectDisabled:!1,paused:!0,volume:100};var W=n(31),$=Object(q.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.SET_CONTEXT:return Object(L.a)(Object(L.a)({},e),{},{context:t.payload.context,analyzer:t.payload.context.createAnalyser(),src:t.payload.context.createMediaElementSource(t.payload.audioRef)});case K.ADD_SONG:return Object(L.a)(Object(L.a)({},e),{},{songs:[].concat(Object(F.a)(e.songs),[t.payload])});case K.CHANGE_PATH:return Object(L.a)(Object(L.a)({},e),{},{path:t.payload});case K.CHANGE_CURRENT_SONG_INDEX:return Object(L.a)(Object(L.a)({},e),{},{currentIndex:t.payload});case K.SET_CURRENT_TRACK_TIME:return Object(L.a)(Object(L.a)({},e),{},{currentTime:t.payload});case K.DISABLE_SONG_SELECT:return Object(L.a)(Object(L.a)({},e),{},{songSelectDisabled:!0});case K.ENABLE_SONG_SELECT:return Object(L.a)(Object(L.a)({},e),{},{songSelectDisabled:!1});case K.SET_PAUSED:return Object(L.a)(Object(L.a)({},e),{},{paused:t.payload});case K.CHANGE_VOLUME:return Object(L.a)(Object(L.a)({},e),{},{volume:t.payload});default:return e}}),Object(q.a)(W.a));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,{store:$},r.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[33,1,2]]]);
//# sourceMappingURL=main.ab9d7568.chunk.js.map